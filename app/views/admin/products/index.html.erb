<div class="container">
<div class="row">
<div class="col-md-2"></div>
<div class="col-md-10">
</br>

<h3>商品新規登録</h3>
<table>
<%= form_with model:@product,url: admin_products_path, method: :post, local:true do |f| %>
  <tr>

  <th>商品画像</th>
  <th><%= f.attachment_field :image %></th>
  </tr>

  <tr>
  <th>商品名</th>
  <th><%= f.text_field :name %></th>
  </tr>

  <tr>
  <th>商品説明</th>
  <th><%= f.text_area :description%></th>
  </tr>

  <tr>
  <th>ジャンル</th>
  <!--プルダウン式-->
  <th><%= f.collection_select :genre_id, Genre.all, :id, :name, include_blank: "選択して下さい" %></th>
  </tr>

  <tr>
  <th>税抜価格</th>
  <th><%= f.text_field :price %>円</th>
  </tr>

  <tr>
  <th>販売ステータス</th>
  <th><%= f.radio_button :is_active, true, checked: "checked" %> 販売中 <%= f.radio_button :is_active, false %> 販売停止中</th>
  </tr>
 <%#= f.radio_button :status, Product.is_actives.keys.map {|k| [I18n.t("enums.product.status.#{k}"), k]}, checked: "checked" %>
 <%#= f.radio_button :status, Product.is_actives.keys.map {|k| [I18n.t("enums.product.status.#{k}"), k]} %>

  <tr>
  <th><%= f.submit '新規登録', class:'btn btn-success' %></th>
  </tr>
  
<% end %>
</table>


</br>
</br>
<h3>商品一覧</h3>
<table class="table">
<tr>
<th>商品ID</th>
<th>商品名</th>
<th>税抜価格</th>
<th>ジャンル</th>
<th>ステータス</th>
</tr>

 <% @products.each do |product|%>
<tr>
  <th><%= product.id %></th>
  <th><%= link_to product.name , admin_product_path(product.id) , class:'btn btn-link' %></th>
  <th><%= product.price.to_s(:delimited) %></th>
  <th><%= product.genre.name %></th>
  <th><%= product.is_active %></th>
</tr>
  <% end %>
</table>